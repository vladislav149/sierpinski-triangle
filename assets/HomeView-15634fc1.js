import{d as T,c as b,a as d,b as p,F as M,r as k,o as v,e as f,f as N,g as _,t as P,w as V,v as C,h as $}from"./index-d0998c50.js";const B={class:"border border-solid border-red-600",width:"500",height:"500",viewBox:"0 0 500 500",stroke:"black"},D=["points"],E=["cx","cy","onMousedown"],I=["cx","cy"],L=T({__name:"SerTriangle",props:{points:{},triangleTops:{}},emits:["changePosition"],setup(g,{emit:r}){const a=g;let y,u,x;const l=b(()=>a.triangleTops.reduce((o,s)=>o+=`${s.x},${s.y} `,""));function i(o,s,t,e){y=o,u=e.clientX-s,x=e.clientY-t,document.addEventListener("mousemove",m)}function h(){document.removeEventListener("mousemove",m)}function m(o){const s=o.clientX-u,t=o.clientY-x;r("changePosition",y,s,t)}return(o,s)=>(v(),d("svg",B,[p("polygon",{points:l.value,fill:"transparent"},null,8,D),(v(!0),d(M,null,k(o.triangleTops,(t,e)=>(v(),d("circle",{key:e,cx:t.x,cy:t.y,r:"10",class:"cursor-pointer",onMousedown:n=>i(e,t.x,t.y,n),onMouseup:h},null,40,E))),128)),(v(!0),d(M,null,k(o.points,(t,e)=>(v(),d("circle",{key:e,cx:t.x,cy:t.y,r:"1"},null,8,I))),128))]))}});function S(g,r){const a=g+Math.random()*(r+1-g);return Math.floor(a)}const A={class:"block"},F=["disabled"],U=T({__name:"HomeView",setup(g){let r;const a=f(-150),y=b(()=>+a.value+210),u=f(!1),x=b(()=>i.length),l=f([{x:250,y:50},{x:450,y:450},{x:50,y:450}]),i=N([{x:300,y:200}]);function h(){const e=S(0,2),n=i.at(-1);if(!n)return;const c=(l.value[e].x+n.x)/2,w=(l.value[e].y+n.y)/2;i.push({x:c,y:w})}function m(){u.value=!0,r=setInterval(()=>{h()},Math.abs(a.value))}function o(){u.value=!1,clearInterval(r)}function s(){i.splice(1)}function t(e,n,c){n>0&&n<500&&c>0&&c<500&&(s(),l.value[e].x=n,l.value[e].y=c)}return(e,n)=>(v(),d("main",null,[_(" количество итераций: "+P(x.value)+" ",1),p("label",A,[_(" скорость "),V(p("input",{type:"range","onUpdate:modelValue":n[0]||(n[0]=c=>a.value=c),min:"-200",max:"0",disabled:u.value},null,8,F),[[C,a.value]]),_(" "+P(y.value),1)]),$(L,{class:"mx-auto",points:i,"triangle-tops":l.value,onChangePosition:t},null,8,["points","triangle-tops"]),p("button",{class:"bg-teal-600 text-white px-5 py-10",type:"button",onClick:m}," Запустить "),p("button",{class:"bg-red-600 text-white px-5 py-10",type:"button",onClick:o}," Стоп "),p("button",{class:"bg-yellow-600 text-white px-5 py-10",type:"button",onClick:s}," Очистить ")]))}});export{U as default};
